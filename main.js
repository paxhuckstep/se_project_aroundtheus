!function(){"use strict";class t{constructor(t,e,s){this._name=t.name,this._link=t.link,this._cardSelector=e,this._handleImageClick=s}_setEventListeners(){this._cardLikeButton.addEventListener("click",(()=>{this._handleLikeIcon()})),this._cardTrashButton.addEventListener("click",(()=>{this._handletrashButton()})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}_handletrashButton(){this._cardElement.remove(),this._cardElement=null}_handleLikeIcon(){this._cardLikeButton.classList.toggle("card__like-button_active")}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardLikeButton=this._cardElement.querySelector(".card__like-button"),this._cardTrashButton=this._cardElement.querySelector(".card__trash-button"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._setEventListeners(),this._cardElement}}class e{constructor(t,e){this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=e}_showInputError(t){const e=this._form.querySelector("#"+t.id+"-error");t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}_removeInputError(t){const e=this._form.querySelector("#"+t.id+"-error");t.classList.remove(this._inputErrorClass),e.textContent="",e.classList.remove(this._errorClass)}resetValidation(){this._toggleButtonState(),this._inputList.forEach((t=>{this._removeInputError(t)}))}disableButton(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}_hasInvalidInput(){return!this._inputList.every((t=>t.validity.valid))}_checkInputValidity(t){t.validity.valid?this._removeInputError(t):this._showInputError(t)}_setEventListeners(){this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._buttonElement=this._form.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((t=>{t.addEventListener("input",(()=>{this._checkInputValidity(t),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(t=>{t.preventDefault()})),this._setEventListeners()}}class s{constructor(t){let{popupSelector:e}=t;this._popupElement=document.querySelector(e)}openPopup(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}closePopup(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown,",this._handleEscClose)}_handleEscClose=t=>{"Escape"===t.key&&this.closePopup()};setEventListeners(){this._popupElement.addEventListener("mousedown",(t=>{(t.target.classList.contains("modal_opened")||t.target.classList.contains("modal__close"))&&this.closePopup()}))}}class n extends s{constructor(t,e){super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=e,this._inputList=this._popupForm.querySelectorAll(".modal__input")}_getInputValues(){const t={};return this._inputList.forEach((e=>{t[e.name]=e.value})),t}setEventListeners(){this._popupForm.addEventListener("submit",(()=>{this._handleFormSubmit(this._getInputValues()),this._popupForm.reset(),this.closePopup()})),super.setEventListeners()}}const o=document.querySelector("#edit-modal"),r=document.querySelector(".profile__add-button"),i=document.querySelector(".profile__edit-button"),a=document.querySelector("#profile-title-input"),l=document.querySelector("#profile-description-input"),c=o.querySelector("#profile-edit-form"),u=document.querySelector("#add-card-form"),d={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save",inactiveButtonClass:"modal__save_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},m=new class{constructor(t,e){let{items:s,renderer:n}=t;this._items=s,this._renderer=n,this.cardListEl=document.querySelector(e)}renderItems(){this._items.forEach((t=>{this._renderer(t)}))}addItem(t){this.cardListEl.prepend(t)}}({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago de Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:_},".cards__list");function _(e){const s=function(e){return new t(e,"#card-template",p).getView()}(e);m.addItem(s)}function p(t){g.openPopup(t)}m.renderItems(),i.addEventListener("click",(()=>{h.resetValidation();const t=S.getUserInfo();L.openPopup(),a.value=t.name,l.value=t.job})),r.addEventListener("click",(()=>{v.openPopup()}));const h=new e(d,c);h.enableValidation();const E=new e(d,u);E.enableValidation();const v=new n("#card-add-modal",(function(t){const e=t.title,s=t.url;console.log(t),_({name:e,link:s}),E.disableButton()}));v.setEventListeners();const L=new n("#edit-modal",(function(t){S.setUserInfo({name:t.name,job:t.description}),L.closePopup()}));L.setEventListeners();const g=new class extends s{constructor(t){super({popupSelector:t}),this._image=this._popupElement.querySelector("#picture-modal-image"),this._title=this._popupElement.querySelector("#picture-modal-heading")}openPopup(t){let{name:e,link:s}=t;this._image.src=s,this._image.alt=e,this._title.textContent=e,super.openPopup()}}("#picture-modal");g.setEventListeners();const S=new class{constructor(t){let{userName:e,userJob:s}=t;this._nameElement=document.querySelector(e),this._jobElement=document.querySelector(s)}getUserInfo(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}setUserInfo(t){this._nameElement.textContent=t.name,this._jobElement.textContent=t.job}}({userName:".profile__title",userJob:".profile__description"})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWM4RyxFQUFVakIsR0FDM0MsR0grRGlDLENBQ2pDYSxTQUFVLGtCQUNWQyxRQUFTLHlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoY2FyZERhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlSW1hZ2VDbGljaykge1xyXG4gICAgdGhpcy5fbmFtZSA9IGNhcmREYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gY2FyZERhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZUljb24oKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fY2FyZFRyYXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZXRyYXNoQnV0dG9uKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbmFtZTogdGhpcy5fbmFtZSwgbGluazogdGhpcy5fbGluayB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZXRyYXNoQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUljb24oKSB7XHJcbiAgICAgIHRoaXMuX2NhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpIFxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG4gICAgdGhpcy5fY2FyZExpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudCBcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgICB0aGlzLl9jYXJkVHJhc2hCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudCBcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdHJhc2gtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNcIiArIGlucHV0RWwuaWQgKyBcIi1lcnJvclwiXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX3JlbW92ZUlucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI1wiICsgaW5wdXRFbC5pZCArIFwiLWVycm9yXCJcclxuICAgICk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW1vdmVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRpc2FibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiAhdGhpcy5faW5wdXRMaXN0LmV2ZXJ5KChpbnB1dEVsKSA9PiBpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xyXG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fcmVtb3ZlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBvcGVuUG9wdXAoKSB7XHJcbiAgICAvLyBvcGVuIHBvcHVwICh3aGF0cyBhIG1vZGFsIHZzIHBvcHVwPylcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIC8vY2xvc2VzIHBvcHVwXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duLFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZSkgPT4ge1xyXG4gICAgLy9saXN0ZW5zIHRvIGVzYyBidXR0b25cclxuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgLy8gZGlmZmVyZW50IGZyb20gc2V0RXZlbnRMaXN0ZW5lcnMgaW4gRm9ybVZhbGlkYXRpb24/Pz9cclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpIHx8XHJcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2VcIilcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBmb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgLy8gY2xvc2VQb3B1cCgpIHtcclxuICAvLyAgIHN1cGVyLmNsb3NlUG9wdXAoKTtcclxuICAvLyB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICB9KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBwcm9maWxlRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LW1vZGFsXCIpO1xyXG5leHBvcnQgY29uc3QgYWRkTmV3Q2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIlxyXG4pO1xyXG4vL2V4cG9ydCBjb25zdCBjYXJkVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10aXRsZS1pbnB1dFwiKTtcclxuLy9leHBvcnQgY29uc3QgY2FyZFVybElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXVybC1pbnB1dFwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0Rm9ybSA9IHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtZm9ybVwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1mb3JtXCIpO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICAgIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zYXZlXCIsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zYXZlX2Rpc2FibGVkXCIsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICAgIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxuICB9O1xyXG4gIFxyXG4gIGV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGFnbyBkZSBCcmFpZXNcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXHJcbiAgICB9LFxyXG4gIF07XHJcbiAgICIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgcHJvZmlsZUVkaXRGb3JtLFxyXG4gIGFkZE5ld0NhcmRCdXR0b24sXHJcbiAgcHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgcHJvZmlsZVRpdGxlSW5wdXQsXHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQsXHJcbiAgYWRkQ2FyZEZvcm0sXHJcbiAgaW5pdGlhbENhcmRzLFxyXG4gIHNldHRpbmdzLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdFByb2ZpbGVGb3JtKHVzZXJEYXRhKSB7XHJcbiAgdXNlckluZm9DbGFzcy5zZXRVc2VySW5mbyh7XHJcbiAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxyXG4gICAgam9iOiB1c2VyRGF0YS5kZXNjcmlwdGlvbixcclxuICB9KTtcclxuICBlZGl0UHJvZmlsZVBvcHVwLmNsb3NlUG9wdXAoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoY2FyZERhdGEsIFwiI2NhcmQtdGVtcGxhdGVcIiwgaGFuZGxlSW1hZ2VCdXR0b24pO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudC5nZXRWaWV3KCk7XHJcbn1cclxuXHJcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAgeyBpdGVtczogaW5pdGlhbENhcmRzLCByZW5kZXJlcjogcmVuZGVyQ2FyZCB9LFxyXG4gIFwiLmNhcmRzX19saXN0XCJcclxuKTtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZERhdGEpIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xyXG4gIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG59XHJcblxyXG5jYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VCdXR0b24oY2FyZERhdGEpIHtcclxuICBpbWFnZVBvcHVwLm9wZW5Qb3B1cChjYXJkRGF0YSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdENhcmRBZGQoaW5wdXRWYWx1ZXMpIHtcclxuICBjb25zdCBuYW1lID0gaW5wdXRWYWx1ZXMudGl0bGU7XHJcbiAgY29uc3QgbGluayA9IGlucHV0VmFsdWVzLnVybDtcclxuICBjb25zb2xlLmxvZyhpbnB1dFZhbHVlcyk7XHJcbiAgcmVuZGVyQ2FyZCh7IG5hbWUsIGxpbmsgfSk7XHJcbiAgYWRkRm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XHJcbn1cclxuXHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgY29uc3QgdXNlckRldGFpbHMgPSB1c2VySW5mb0NsYXNzLmdldFVzZXJJbmZvKCk7XHJcbiAgZWRpdFByb2ZpbGVQb3B1cC5vcGVuUG9wdXAoKTtcclxuICBwcm9maWxlVGl0bGVJbnB1dC52YWx1ZSA9IHVzZXJEZXRhaWxzLm5hbWU7XHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSB1c2VyRGV0YWlscy5qb2I7XHJcbn0pO1xyXG5hZGROZXdDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgbmV3Q2FyZFBvcHVwLm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIHByb2ZpbGVFZGl0Rm9ybSk7XHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgYWRkQ2FyZEZvcm0pO1xyXG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IG5ld0NhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2NhcmQtYWRkLW1vZGFsXCIsIHN1Ym1pdENhcmRBZGQpO1xyXG5uZXdDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNlZGl0LW1vZGFsXCIsIHN1Ym1pdFByb2ZpbGVGb3JtKTtcclxuZWRpdFByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwaWN0dXJlLW1vZGFsXCIpO1xyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCB1c2VySW5mb0NsYXNzID0gbmV3IFVzZXJJbmZvKHtcclxuICB1c2VyTmFtZTogXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICB1c2VySm9iOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxyXG59KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY3NzU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5jYXJkTGlzdEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjc3NTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oaXRlbSkge1xyXG4gICAgdGhpcy5jYXJkTGlzdEVsLnByZXBlbmQoaXRlbSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNwaWN0dXJlLW1vZGFsLWltYWdlXCIpO1xyXG4gICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNwaWN0dXJlLW1vZGFsLWhlYWRpbmdcIik7XHJcbiAgICAvLyB0aGlzLl9uYW1lID0gXCJcIjtcclxuICAgIC8vIHRoaXMuX2xpbmsgPSBcIlwiO1xyXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5faW1hZ2UsIHRoaXMuX3RpdGxlLCB0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcclxuICB9XHJcbiAgb3BlblBvcHVwKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICAvL29wZW5pbmcgd2l0aCBuYW1lIGFuZCBsaW5rIG9mIGltYWdlXHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW5Qb3B1cCgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyB1c2VyTmFtZSwgdXNlckpvYiB9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWUpO1xyXG4gICAgdGhpcy5fam9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IHVzZXJJbmZvID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgam9iOiB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICAgIC8vIGdldHRpbmcgdGhlIHVzZXIgaW5mb1xyXG4gICAgcmV0dXJuIHVzZXJJbmZvO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8odXNlcklucHV0KSB7XHJcbiAgICAvLyBzZXRzIHVzZXJJbmZvIGF0IGVuZCBvZiBzdWJtaXRQcm9maWxlRWRpdCAoKVxyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2VySW5wdXQubmFtZTtcclxuICAgIHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQgPSB1c2VySW5wdXQuam9iO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiY2FyZERhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkTGlrZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUljb24iLCJfY2FyZFRyYXNoQnV0dG9uIiwiX2hhbmRsZXRyYXNoQnV0dG9uIiwiX2NhcmRJbWFnZSIsIl9jYXJkRWxlbWVudCIsInJlbW92ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImdldFZpZXciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRUaXRsZSIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybSIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWwiLCJlcnJvck1lc3NhZ2VFbCIsImlkIiwiYWRkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfcmVtb3ZlSW5wdXRFcnJvciIsInJlc2V0VmFsaWRhdGlvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9pbnB1dExpc3QiLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50IiwiZGlzYWJsZUJ1dHRvbiIsIl9idXR0b25FbGVtZW50IiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiZXZlcnkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbmFibGVWYWxpZGF0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJfcmVmIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJvcGVuUG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJjbG9zZVBvcHVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJyZXNldCIsInByb2ZpbGVFZGl0TW9kYWwiLCJhZGROZXdDYXJkQnV0dG9uIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlVGl0bGVJbnB1dCIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0IiwicHJvZmlsZUVkaXRGb3JtIiwiYWRkQ2FyZEZvcm0iLCJmb3JtU2VsZWN0b3IiLCJjYXJkU2VjdGlvbiIsImNzc1NlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsImNhcmRMaXN0RWwiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwicHJlcGVuZCIsInJlbmRlckNhcmQiLCJjYXJkRWxlbWVudCIsImhhbmRsZUltYWdlQnV0dG9uIiwiY3JlYXRlQ2FyZCIsImltYWdlUG9wdXAiLCJlZGl0Rm9ybVZhbGlkYXRvciIsInVzZXJEZXRhaWxzIiwidXNlckluZm9DbGFzcyIsImdldFVzZXJJbmZvIiwiZWRpdFByb2ZpbGVQb3B1cCIsImpvYiIsIm5ld0NhcmRQb3B1cCIsImFkZEZvcm1WYWxpZGF0b3IiLCJpbnB1dFZhbHVlcyIsInRpdGxlIiwidXJsIiwiY29uc29sZSIsImxvZyIsInVzZXJEYXRhIiwic2V0VXNlckluZm8iLCJkZXNjcmlwdGlvbiIsIl9pbWFnZSIsIl90aXRsZSIsInVzZXJOYW1lIiwidXNlckpvYiIsIl9uYW1lRWxlbWVudCIsIl9qb2JFbGVtZW50IiwidXNlcklucHV0Il0sInNvdXJjZVJvb3QiOiIifQ==